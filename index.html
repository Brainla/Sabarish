<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

<!-- jQuery and JS bundle w/ Popper.js -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
</head>
<style>
    body{
        margin-top: 150px;
        font-size: 20px;
    }
    ul{
        list-style: none;
    }
    .main{
        cursor: pointer;
    }
    li{
        display: inline;
        padding: 5px;
    }
    .main .choose{
        display: none;
    }
    .active .choose{
        display: block;
    }
</style>
<body>
    <div class="container">
        <div class="text-center">Create a role</div>
      <form id="create">
        <ul class="main">
            <li><input type="checkbox" value="file" name="File" id="file">  File</li>
            <ul class="choose">
                <li><input type="checkbox" name="New" id="new">  New</li>
                <li><input type="checkbox" name="Open" id="open">  Open</li>
            </ul>
        </ul>
        <ul  class="main">
            <li><input type="checkbox" name="Edit" id="edit">  Edit</li>
            <ul class="choose">
                <li><input type="checkbox" name="New" id="editname">  New</li>
                <li><input type="checkbox" name="Open" id="editopen">  Open</li>
            </ul>
        </ul>
        <div class="d-flex justify-content-center p-1">
            <input class="form-control col-4" type="text" name="Role" id="role" placeholder="Enter role" required>
        </div>
        <div class="d-flex justify-content-center p-1">
            <button class="form-control col-4 btn-primary" id="submit">Add role</button>
        </div>
    </form>
    </div>
    <hr>
  
  <!-- Modal -->
  <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <form id="edit">
                <ul class="main">
                    <li><input type="checkbox" value="file" name="File" id="changefile">  File</li>
                    <ul class="choose">
                        <li><input type="checkbox" name="New" id="changenew">  New</li>
                        <li><input type="checkbox" name="Open" id="changepen">  Open</li>
                    </ul>
                </ul>
                <ul  class="main">
                    <li><input type="checkbox" name="Edit" id="changeedit">  Edit</li>
                    <ul class="choose">
                        <li><input type="checkbox" name="New" id="changeeditname">  New</li>
                        <li><input type="checkbox" name="Open" id="changeeditopen">  Open</li>
                    </ul>
                </ul>
            </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>
  <!--modalend-->
    <div class="container-2" styel="width:75%;">
    <p class="text-center">All roles</p>
    <div class="flex-box flex-wrap row justify-content-around allRoles"> 
    </div>
</div>
</body>
<script>

    roles=[];

    $(".main").click(function(){
        alert($(this).attr("class"));
        $(this).toggleClass("active");
    })

    // $("#addRole").click(function(){
    //     roles.push($("#role").val());
    //     var newNode = document.createElement('p');
    //     newNode.innerHTML = $("#role").val()+'  <button class="form-control btn-secondary" data-toggle="modal" data-target="#exampleModalCenter">Update</button>';
    //     $(".allRoles").append(newNode);
    //     // $("#role").val();
    //     console.log(newNode)
    // })
function Edititem(a)
{
console.log(a.name);
console.log(roles);
for(i in roles){
    if(roles.role==a.name){
        document.getElementById('changefile').value =  roles.file
        document.getElementById('changenew').value = roles.new
        document.getElementById('changeopen').value =  roles.open
         document.getElementById('changeedit').value =  roles.edit
        document.getElementById('changeeditopen').value =  roles.editopen
        document.getElementById('changeeditfile').value =  roles.editfile
}}}
    $("#create").submit(function(event){
    event.preventDefault()
    $('.close').click();    
    var posting ={  file: $('#file').val(),
                    new: $('#new').val(),
                    open: $('#open').val(),
                   edit: $('#edit').val(),
                   editopen: $('#editopen').val(),
                   editfile: $('#editfile').val(),
                   role:$('#role').val() }
                   var rolename=$('#role').val();
                   var newNode = document.createElement('p');
                   var button='<button class="form-control btn-secondary" onclick="Edititem(this)" data-toggle="modal" data-target="#exampleModalCenter" name='+rolename+">Update</button>"
                   newNode.innerHTML = $("#role").val()+ button;
                   $(".allRoles").append(newNode);
                   roles.push(posting);
                   console.log(roles); 
                                }             
                )





</script>
</html>